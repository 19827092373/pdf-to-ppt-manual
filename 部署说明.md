# 项目部署说明

## 方案一：打包成可执行文件（推荐，最简单）

### 使用PyInstaller打包成exe

#### 1. 安装PyInstaller
```bash
pip install pyinstaller
```

#### 2. 打包应用
```bash
pyinstaller --name="PDF习题拆分工具" --onefile --windowed --add-data "templates;templates" --add-data "static;static" app.py
```

#### 3. 打包后的文件
- 可执行文件在 `dist/PDF习题拆分工具.exe`
- 双击即可运行，无需安装Python

**优点**：最简单，用户无需安装任何东西
**缺点**：文件较大（约50-100MB）

---

## 方案二：创建便携版（推荐，文件小）

### 创建便携版打包脚本

#### 1. 创建打包脚本 `打包.bat`
```batch
@echo off
chcp 65001 >nul
echo 正在创建便携版...
xcopy /E /I /Y templates 便携版\templates
xcopy /E /I /Y static 便携版\static
xcopy /E /I /Y utils 便携版\utils
copy app.py 便携版\
copy requirements.txt 便携版\
copy README.md 便携版\
copy 启动说明.md 便携版\
copy run.bat 便携版\
mkdir 便携版\uploads
mkdir 便携版\temp
mkdir 便携版\output
echo 便携版创建完成！
pause
```

#### 2. 使用方法
- 运行 `打包.bat` 创建便携版文件夹
- 将便携版文件夹压缩成zip
- 分享zip文件
- 用户解压后运行 `run.bat` 即可

**优点**：文件小，易于分享
**缺点**：用户需要安装Python和依赖

---

## 方案三：创建安装包（专业）

### 使用Inno Setup创建Windows安装程序

#### 1. 下载Inno Setup
- 访问：https://jrsoftware.org/isdl.php
- 下载并安装

#### 2. 创建安装脚本
见 `安装脚本.iss` 文件

#### 3. 生成安装程序
- 用Inno Setup打开 `安装脚本.iss`
- 点击"编译"生成安装程序

**优点**：专业，用户体验好
**缺点**：需要额外工具

---

## 方案四：部署到云服务器（在线使用）

### 使用Flask + Gunicorn部署

#### 1. 安装Gunicorn
```bash
pip install gunicorn
```

#### 2. 启动服务
```bash
gunicorn -w 4 -b 0.0.0.0:5000 app:app
```

#### 3. 配置Nginx（可选）
用于反向代理和静态文件服务

**优点**：可在线访问，无需本地安装
**缺点**：需要服务器，有成本

---

## 推荐方案对比

| 方案 | 优点 | 缺点 | 适用场景 |
|------|------|------|----------|
| PyInstaller打包 | 最简单，用户无需安装 | 文件大 | 个人使用，小范围分享 |
| 便携版 | 文件小，易于分享 | 需要Python环境 | 技术用户，团队内部分享 |
| 安装包 | 专业，用户体验好 | 需要额外工具 | 正式发布，广泛分发 |
| 云服务器 | 在线使用，无需安装 | 需要服务器 | 多用户使用，长期运行 |

---

## 快速部署步骤（便携版）

### 1. 创建便携版
运行 `创建便携版.bat`

### 2. 测试便携版
进入 `便携版` 文件夹，运行 `run.bat` 测试

### 3. 打包分享
将 `便携版` 文件夹压缩成zip文件分享

### 4. 用户使用
- 解压zip文件
- 运行 `安装依赖.bat`（首次使用）
- 运行 `run.bat` 启动应用

---

## 注意事项

1. **Python版本**：确保用户使用Python 3.7+
2. **依赖安装**：首次使用需要运行 `pip install -r requirements.txt`
3. **Poppler工具**：如果使用pdf2image，需要安装poppler（或使用PyMuPDF）
4. **端口占用**：如果5001端口被占用，会自动使用其他端口

