# 学生机部署指南（最便宜方案）

## 💰 成本：9.5元/月，114元/年

---

## 第一步：购买学生机

### 1. 阿里云学生机（推荐）

**访问地址**：https://developer.aliyun.com/plan/student

**步骤**：
1. 注册/登录阿里云账号
2. 点击"学生认证"
3. 选择认证方式：
   - 方式1：学信网认证（推荐，最快）
   - 方式2：学生证认证
   - 方式3：24岁以下自动认证
4. 完成认证后，进入学生机购买页面
5. 选择配置：
   - **地域**：选择离你最近的地域（如：华东1-杭州）
   - **镜像**：Ubuntu 20.04 64位
   - **时长**：建议购买1年（更便宜）
6. 设置root密码（记住这个密码！）
7. 立即购买

**价格**：
- 月付：9.5元/月
- 年付：约114元/年（更划算）

**配置**：
- CPU：2核
- 内存：2GB
- 带宽：1Mbps
- 存储：40GB SSD
- 流量：1000GB/月

---

## 第二步：获取服务器信息

### 1. 查看服务器IP

登录阿里云控制台：
1. 进入"云服务器ECS"
2. 点击"实例"
3. 找到刚购买的学生机
4. 复制"公网IP"（这就是你的服务器地址）

**示例**：`123.456.789.012`

### 2. 重置密码（如果需要）

如果忘记密码：
1. 在实例列表中，点击"更多" → "密码/密钥" → "重置实例密码"
2. 设置新密码
3. 重启服务器使密码生效

---

## 第三步：连接服务器

### Windows用户

**方法1：使用PuTTY（推荐）**

1. 下载PuTTY：https://www.putty.org/
2. 打开PuTTY
3. 输入：
   - Host Name: `root@your-server-ip`
   - Port: `22`
   - Connection type: `SSH`
4. 点击"Open"
5. 输入密码（输入时不显示，直接输入后回车）

**方法2：使用Windows Terminal（Windows 10/11）**

1. 打开Windows Terminal
2. 输入命令：
   ```bash
   ssh root@your-server-ip
   ```
3. 输入密码

**方法3：使用VS Code**

1. 安装Remote-SSH扩展
2. 按F1，输入"Remote-SSH: Connect to Host"
3. 输入：`root@your-server-ip`
4. 输入密码

---

## 第四步：上传项目文件

### 方法1：使用Git（推荐）

```bash
# 在服务器上执行
cd /opt
git clone your-repo-url pdf-to-ppt-manual
cd pdf-to-ppt-manual
```

### 方法2：使用SCP（Windows PowerShell）

在本地Windows PowerShell中：

```powershell
# 上传整个文件夹
scp -r pdf-to-ppt-manual root@your-server-ip:/opt/
```

### 方法3：使用FTP工具

1. 下载FileZilla：https://filezilla-project.org/
2. 连接服务器：
   - 主机：`sftp://your-server-ip`
   - 用户名：`root`
   - 密码：你的服务器密码
3. 上传项目文件夹到 `/opt/`

---

## 第五步：一键部署

### 运行部署脚本

```bash
# 进入项目目录
cd /opt/pdf-to-ppt-manual

# 给脚本添加执行权限
chmod +x deploy.sh

# 运行部署脚本
./deploy.sh
```

### 部署脚本会做什么？

1. ✅ 更新系统
2. ✅ 安装Python、Nginx等必要工具
3. ✅ 安装项目依赖
4. ✅ 配置systemd服务（开机自启）
5. ✅ 配置Nginx（Web服务器）
6. ✅ 配置防火墙
7. ✅ 启动服务

**预计时间**：5-10分钟

---

## 第六步：访问应用

### 获取访问地址

部署完成后，脚本会显示：
```
访问地址：http://your-server-ip
```

### 测试访问

1. 打开浏览器
2. 访问：`http://your-server-ip`
3. 应该能看到PDF上传界面

### 分享给用户

将IP地址分享给需要使用的用户：
```
PDF习题拆分工具
访问地址：http://123.456.789.012
```

---

## 常见问题

### Q1: 连接服务器失败？

**检查**：
1. 服务器是否已启动（在控制台查看状态）
2. IP地址是否正确
3. 密码是否正确
4. 防火墙是否开放22端口（学生机默认已开放）

### Q2: 部署脚本运行失败？

**检查**：
1. 是否使用root用户运行
2. 网络连接是否正常
3. 查看错误信息，根据提示解决

**手动部署**：
如果脚本失败，可以按照 `国内服务器部署指南.md` 手动部署

### Q3: 无法访问网站？

**检查**：
1. 服务是否正常运行：
   ```bash
   systemctl status pdf-to-ppt
   systemctl status nginx
   ```
2. 防火墙是否开放80端口：
   ```bash
   ufw status
   ```
3. 查看日志：
   ```bash
   journalctl -u pdf-to-ppt -f
   ```

### Q4: 上传文件很慢？

**原因**：
- 学生机带宽只有1Mbps（约125KB/s）
- 上传50MB文件需要约6-7分钟

**解决**：
- 这是正常现象，学生机带宽较小
- 可以压缩PDF文件后再上传
- 或者升级到更高配置（但会更贵）

### Q5: 如何重启服务？

```bash
# 重启应用
systemctl restart pdf-to-ppt

# 重启Nginx
systemctl restart nginx

# 重启服务器
reboot
```

---

## 维护命令

### 查看服务状态
```bash
systemctl status pdf-to-ppt
```

### 查看日志
```bash
# 实时查看应用日志
journalctl -u pdf-to-ppt -f

# 查看Nginx日志
tail -f /var/log/nginx/pdf-to-ppt-access.log
```

### 重启服务
```bash
systemctl restart pdf-to-ppt
```

### 更新代码
```bash
cd /opt/pdf-to-ppt-manual
git pull  # 如果使用git
# 或重新上传文件
systemctl restart pdf-to-ppt
```

---

## 成本总结

### 月度成本
- **服务器**：9.5元/月
- **域名**：0元（使用IP访问）
- **SSL证书**：0元（可选）
- **备案**：0元（使用IP无需备案）

**总计：9.5元/月**

### 年度成本
- **服务器**：114元/年（年付更便宜）
- **其他**：0元

**总计：114元/年**

---

## 下一步优化（可选）

### 1. 配置域名（需要备案）
- 购买域名：29元/年（.cn域名）
- 完成备案：免费，7-20个工作日
- 配置DNS解析
- 访问：`http://your-domain.com`

### 2. 配置HTTPS（免费）
```bash
# 安装Certbot
apt install certbot python3-certbot-nginx

# 获取证书（需要域名）
certbot --nginx -d your-domain.com
```

### 3. 性能优化
- 启用Gzip压缩
- 配置缓存
- 使用CDN加速（有免费额度）

---

## 需要帮助？

1. 查看详细文档：`国内服务器部署指南.md`
2. 查看部署脚本：`deploy.sh`
3. 联系阿里云技术支持（控制台有在线客服）

